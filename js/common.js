// Js Common Library v1.32
// Required: jquery.js 
// Some functions may require: jquery-ui.js, jquery.mousewheel.js, jquery.flash.js

function isHandHeldDevice(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)){return true}else{return false}}function getCurrentDateTimeInString(){var e=new Date;var t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1;var n=e.getDate()<10?"0"+e.getDate():e.getDate();var r=e.getFullYear();var i=e.getHours()<10?"0"+e.getHours():e.getHours();var s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();var o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return r+""+t+""+n+""+i+""+""+s+""+o}function getDateTimeInString(e){var t=new Date(e);var n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1;var r=t.getDate()<10?"0"+t.getDate():t.getDate();var i=t.getFullYear();var s=t.getHours()<10?"0"+t.getHours():t.getHours();var o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();var u=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return i+""+n+""+r+""+s+""+""+o+""+u}function getHashValue(){return window.location.hash.replace("#","")}function autoToNextField(e,t,n){$(e).keyup(function(e){if(e.which!=37&&e.which!=38&&e.which!=39&&e.which!=40){var r=$(this).val().length;if(r==n)$(t).focus()}})}function bindAlphaNumericOnly(e){$(e).keypress(function(e){if(e.which==null||e.which==0||e.which==8||e.which==9||e.which==13||e.which==27||e.which==95||e.which==45)return true;keychar=String.fromCharCode(e.which);keychar=keychar.toLowerCase();if("abcdefghijklmnopqrstuvwxyz0123456789 ".indexOf(keychar)>-1)return true;else return false})}function bindBackToTopTrigger(e){$(e).click(function(e){e.preventDefault();var t=$("html").scrollTop();if(t==0)t=$("body").scrollTop();var n=parseInt(t/1.5);$("html,body").animate({scrollTop:0},n)})}function bindCharCounter(e,t,n){$(e).each(function(){var r=$(this).val().length;var i=n-r;$(t).html(i+"/"+n);$(this).keyup(function(){var r=$(this).val().length;var i=n-r;if(r>n)$(e).val($(this).val().substr(0,n));$(t).html(i+"/"+n)});$(this).keydown(function(e){var t=$(this).val().length;var r=n-t;if(r==0&&e.which!=8&&e.which!=0&&e.which!=46)e.preventDefault()});if(r>n)$(e).val($(this).val().substr(0,n))})}function bindDefaultText(e){var t=$(e).prop("title");$(e).val(t);$(e).addClass("defaultValue");$(e).focus(function(){$(this).removeClass("defaultValue");if($(this).val()==t){$(this).val("")}});$(e).blur(function(){if($(this).val()==""){$(this).addClass("defaultValue");$(this).val(t)}})}function bindFriendlyDate(e,t,n,r){var i;if(t==null||t=="undefined")i=new Date;else i=new Date(t.replace(/-/g,"/").replace(/[TZ]/g," "));if(n==null||n=="undefined")n=true;$(e).each(function(){var e;if(r==null||r=="undefined")e=$(this).text();else e=$(this).prop(r);var t=e;var s=new Date(e.replace(/-/g,"/").replace(/[TZ]/g," "));var o=(i.getTime()-s.getTime())/1e3;var u=Math.floor(o/86400);if(isNaN(u)||u<0||u>=7){}else{if(u==0){if(n){if(o<60)t="just now";else if(o<120)t="1 minute ago";else if(o<3600)t=Math.floor(o/60)+" minutes ago";else if(o<7200)t="1 hour ago";else if(o<86400)t=Math.floor(o/3600)+" hours ago"}else{t="today"}}else if(u==1)t="yesterday";else if(u<7)t=u+" days ago";if(r==null||r=="undefined")$(this).text(t);else $(this).prop(r,t)}})}function bindNumericOnly(e){$(e).keypress(function(e){if(e.which!=8&&e.which!=0&&(e.which<48||e.which>57))return false})}function bindNumericOnlyWithSign(e){$(e).keypress(function(e){if(e.which!=8&&e.which!=0&&(e.which<48||e.which>57)&&e.which!=45&&e.which!=43)return false})}function bindOverlayWindow(e,t,n,r,i,s,o){$(e).click(function(e){e.preventDefault();var n=parseInt($(t).height());var u=parseInt($(t).outerWidth()/2);var a=parseInt($(t).height()/2);var f=$(window).height();var l=$(window).scrollTop();if(o==null||o=="undefined")o=1e4;$(t).css({position:"absolute",zIndex:o,top:"150px",left:"50%",marginLeft:"-"+u+"px"});if(r){if(s==null||s=="undefined")$("#overlayBg").show();else $(s).show()}if(i==null||i=="undefined"||i==true)$(t).fadeIn(300);else $(t).show()});$(n).click(function(e){e.preventDefault();if(i==null||i=="undefined"||i==true){$(t).fadeOut(300,function(){if(r){if(s==null||s=="undefined")$("#overlayBg").hide();else $(s).hide()}})}else{$(t).hide();if(r){if(s==null||s=="undefined")$("#overlayBg").hide();else $(s).hide()}}})}function bindScroller(e,t,n,r){$(e).slider({animate:false,change:function(i,s){updateScrollChanges(s.value,e,r,t,n)},slide:function(i,s){updateScrollChanges(s.value,e,r,t,n)},orientation:"vertical",value:100});if(t!=""&&t!=null){$(t).click(function(){$(e).slider("value",$(e).slider("value")+10)})}if(n!=""&&n!=null){$(n).click(function(){$(e).slider("value",$(e).slider("value")-10)})}$(r).mousewheel(function(t,n){t.preventDefault();$(e).slider("value",$(e).slider("value")+n*3)});$(r).scrollTop(0);updateScrollChanges(null,e,r,t,n);updateScrollerActivation(e,t,n,r)}function updateScrollerActivation(e,t,n,r){var i=0;var s=parseInt($(r).height());$(r).children().each(function(){i+=parseInt($(this).outerHeight())});if(i<=s){$(e).find(".ui-slider-handle").hide();if(t!=""&&t!=null)$(t).css("opacity","0.3");if(n!=""&&n!=null)$(n).css("opacity","0.3")}else{$(e).find(".ui-slider-handle").show();if(t!=""&&t!=null)$(t).css("opacity","1");if(n!=""&&n!=null)$(n).css("opacity","1")}}function forceScrollerActive(e,t,n,r){$(e).find(".ui-slider-handle").show();$(t).css("opacity","1");$(n).css("opacity","1")}function updateScrollChanges(e,t,n,r,i){if(e!=null){var s=$(n).prop("scrollHeight")-$(n).height();$(n).scrollTop((100-e)*(s/100))}}function bindSlider(e,t,n,r,i,s,o,u){var a=$(e).find("li").length;var f=$(e).width();var l=a*f;var c='<input type="hidden" class="currentItem" value="1" />						<input type="hidden" class="totalItem" value="'+a+'" />';$(e).append(c);var h=0;$(e).find("li").each(function(){$(this).append('<input type="hidden" class="itemCount" value="'+ ++h+'">')});if(o!=null&&o!="undefined"){var p="<ul>";for(h=0;h<a;h++){p+="<li><span>"+(h+1)+"</span></li>"}p+="</ul>";$(o).html(p);$(o).css("position","absolute");$(o).css("left","50%");$(o).css("marginLeft","-"+parseInt($(o).width()/2)+"px");$(o).find("li:first").addClass("selected")}$(e).find("ul:first").width(l);$(e).find("ul:first").css("position","absolute");$(e).find("ul:first").css("top",0);$(e).find("ul:first").css("left",0);$(t).click(function(i){i.preventDefault();if(s)clearInterval(s);scrollSlider(e,t,n,false,r,o,u)});$(n).click(function(i){i.preventDefault();if(s)clearInterval(s);scrollSlider(e,t,n,true,r,o,u)});if(i!=""&&i!=0&&s!="undefined"){s=setInterval(function(){scrollSlider(e,t,n,true,r,o,true)},i)}if(!u)$(t).hide()}function scrollSlider(e,t,n,r,i,s,o){var u=$(e).find("ul:first");var a=$(e).find(".currentItem:first").val();var f=$(e).find(".totalItem:first").val();var l=a;if($(u).hasClass("animating"))return;if(o==null||o=="undefined")o=false;if(r){if(a==f){a=1}else a++}else{if(a==1)a=f;else a--}var c=false;var h=false;var p=$(u).find('.itemCount[value="'+l+'"]').parents("li");var d=$(u).find('.itemCount[value="'+a+'"]').parents("li");if(o){if(r&&a<l){$(p).prependTo($(u));$(u).css("left","+"+$(p).position().left+"px");c=true}else if(!r&&a>l){$(d).prependTo($(u));$(u).css("left","-"+$(p).position().left+"px");h=true}}$(e).find(".currentItem:first").val(a);var v=$(u).find('.itemCount[value="'+a+'"]:first').parents("li").position().left;var m=1;var g=0-v;if(!o)m=Math.abs(a-l);$(u).addClass("animating");$(u).stop(true,true).animate({left:g+"px"},i*m,function(){$(this).removeClass("animating");if(o){if(c){$(p).appendTo($(u));$(u).css("left","+"+$(d).position().left+"px")}else if(h){$(d).appendTo($(u));$(u).css("left","-"+$(d).position().left+"px")}}else{if(a==f)$(n).hide();else $(n).show();if(a==1)$(t).hide();else $(t).show()}if(s!=null&&s!="undefined")updateItemSlotIndicator(s,a)})}function updateItemSlotIndicator(e,t){$(e).find("ul:first li").removeClass("selected");$(e).find("ul:first li:nth("+(t-1)+")").addClass("selected")}function bindWordCounter(e,t,n){$(e).each(function(){var e=$(this).val().split(/\s/).length-1;var r=n-e;$(t).html(r+"/"+n);$(this).keyup(function(){var e=$(this).val().split(/\s/).length-1;var r=n-e;if(e>n){var s=$(this).val().split(/\s/);var o="";for(i=0;i<n;i++){o+=s[i]+" "}$(this).val(o);return}$(t).html(r+"/"+n)});$(this).keydown(function(e){var t=$(this).val().split(/\s/).length-1;var r=n-t;if(r==0&&e.which!=8&&e.which!=0&&e.which!=46)e.preventDefault()})})}function preloadImage(e){try{if(e instanceof Array){for(var t=0;t<e.length;t++){var n=e[t];var r=new Image;$(r).load(function(){}).error(function(){}).prop("src",n)}}else{var r=new Image;$(r).load(function(){}).error(function(){}).prop("src",e)}}catch(i){}}function postloadImage(e,t){if(t==null||t=="undefined")t=300;$(e).each(function(){var e=$(this).parent();var n=$(this).val();var r=new Image;$(r).load(function(){$(e).html("");$(e).append('<img src="'+$(r).prop("src")+'" alt="" />');$(e).find("img").fadeIn(t)}).error(function(){}).prop("src",n)})}function scrollToElementAnimated(e,t,n){if(n!=null&&n!="undefined"){var r=$(n).offset().top;var i=$(e).offset().top;var s=i-r;$(n).animate({scrollTop:"+="+s+"px"},t)}else{var o=$(e).offset().top;$("html,body").animate({scrollTop:o},t)}}function initFlash(e,t,n,r,i,s){if(i=="undefined"||i==null)i="transparent";if(s=="undefined"||s==null){$(t).flash({src:e,width:n,wmode:i,height:r})}else{$(t).flash({src:e,width:n,height:r,wmode:i,flashvars:s})}}